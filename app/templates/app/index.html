{% extends 'app/base.html' %}

{% block container %}
  <div ng-controller="ModelListController" class="row">
    <div class="col-md-offset-2 col-md-2">
      <h2>Модели</h2>
      <ul class="list-group">
        <li class="list-group-item" ng-repeat="model in models">
          <a href="#/{$ model.name $}/">{$ model.title $}</a>
        </li>
      </ul>
    </div>
    <div class="col-md-6">
      <h2>Объекты</h2>
      <div id="/{$ model.name $}/" class="panel panel-default" ng-repeat="model in models">
        <div class="panel-heading">{$ model.title $}</div>
        <table class="table">
          <tr>
            <th ng-repeat="field in fields_for(model)">
              {$ field.title $}
            </th>
          </tr>
          <tr ng-repeat="object in models[model.name].objects">
            <td ng-repeat="field in fields_for(model)">{$ object[field.id] $}</td>
          </tr>
        </table>
      </div>
    </div>
  </div>
{% endblock container %}
