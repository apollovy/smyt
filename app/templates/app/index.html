{% extends 'app/base.html' %}

{% block container %}
  <div class="row">
    <div ng-controller="ModelListController" class="col-md-offset-2 col-md-2" id="model_list">
      <h2>Модели</h2>
      <ul class="list-group">
        <li class="list-group-item" ng-repeat="model in models">
          <a href="#/{$ model.name $}/" ng-click="show_objects_of(model)">{$ model.title $}</a>
        </li>
      </ul>
    </div>
    <div ng-controller="ObjectsController" class="col-md-6">
      <h2>Объекты</h2>
      <div id="/{$ current_model.name $}/" class="panel panel-default">
        <div class="panel-heading">{$ current_model.title $}</div>
        <table class="table">
          <tr>
            <th ng-repeat="field in fields_for(current_model)">
              {$ field.title $}
            </th>
          </tr>
          <tr ng-repeat="object in objects">
            <td ng-repeat="field in fields_for(current_model)">{$ object[field.id] $}</td>
          </tr>
        </table>
      </div>
    </div>
  </div>
{% endblock container %}
